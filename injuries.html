<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>AmCharts</title>

  </head>
  <body id="" onload="">
    <!-- Styles -->
    <style>
    .chart {
      width: 100%;
      height: 300px;
    }
    </style>

    <!-- Resources -->
    <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
    <script src="https://www.amcharts.com/lib/3/serial.js"></script>
    <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
    <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
    <script src="./cedar-amcharts.js"></script>

<!-- Chart code -->
<a href="./">&lt; Back Home</a>
<script>
var config1 = {
      "type": "bar",
      "url": "https://servicesqa.arcgis.com/97KLIFOSt5CxbiRI/arcgis/rest/services/Crashes_in_the_District_of_Columbia/FeatureServer/0",
    "query": {
        "orderByFields": "EXTRACT(MONTH from REPORTDATE)",
        "groupByFieldsForStatistics": "EXTRACT(MONTH from REPORTDATE)",
        "outStatistics": "[{'statisticType':'sum','onStatisticField': 'MAJORINJURIES','outStatisticFieldName': 'MAJORINJURIES'},{'statisticType':'sum','onStatisticField': 'MINORINJURIES','outStatisticFieldName': 'MINORINJURIES'}]"
    },
    "mappings":{
      "category": {"field": "EXPR_1"},
      "series": [
        { "field": "MINORINJURIES", "label": "Minor Injuries"},
        { "field": "MAJORINJURIES", "label": "Major Injuries"}
      ]
  }
}

showChart("chartdiv1", config1);

var config2 = {
      "type": "bar",
      "url": "https://servicesqa.arcgis.com/97KLIFOSt5CxbiRI/arcgis/rest/services/Crashes_in_the_District_of_Columbia/FeatureServer/0",
    "query": {
        "orderByFields": "EXTRACT(MONTH from REPORTDATE)",
        "groupByFieldsForStatistics": "EXTRACT(MONTH from REPORTDATE)",
        "outStatistics": "[{'statisticType':'sum','onStatisticField': 'PEDESTRIANSINVOLVED','outStatisticFieldName': 'PEDESTRIANSINVOLVED'},{'statisticType':'sum','onStatisticField': 'CYCLISTSINVOLVED','outStatisticFieldName': 'CYCLISTSINVOLVED'}]"
    },
    "mappings":{
      "category": {"field": "EXPR_1"},
      "group": true,
      "series": [
        { "field": "PEDESTRIANSINVOLVED", "label": "Pedestrians"},
        { "field": "CYCLISTSINVOLVED", "label": "Cyclists"}
      ]
  }
}
showChart("chartdiv2", config2);


</script>

<!-- HTML -->
<div id="chartdiv1" class="chart"></div>
<div id="chartdiv2" class="chart"></div>

<pre>
var config1 = {
      "type": "bar",
      "url": "https://servicesqa.arcgis.com/97KLIFOSt5CxbiRI/arcgis/rest/services/Crashes_in_the_District_of_Columbia/FeatureServer/0",
    "query": {
        "orderByFields": "EXTRACT(MONTH from REPORTDATE)",
        "groupByFieldsForStatistics": "EXTRACT(MONTH from REPORTDATE)",
        "outStatistics": "[{'statisticType':'sum','onStatisticField': 'MAJORINJURIES','outStatisticFieldName': 'MAJORINJURIES'},{'statisticType':'sum','onStatisticField': 'MINORINJURIES','outStatisticFieldName': 'MINORINJURIES'}]"
    },
    "mappings":{
      "category": {"field": "EXPR_1"},
      "series": [
        { "field": "MINORINJURIES", "label": "Minor Injuries"},
        { "field": "MAJORINJURIES", "label": "Major Injuries"}
      ]
  }
}

showChart("chartdiv1", config1);

var config2 = {
      "type": "bar",
      "url": "https://servicesqa.arcgis.com/97KLIFOSt5CxbiRI/arcgis/rest/services/Crashes_in_the_District_of_Columbia/FeatureServer/0",
    "query": {
        "orderByFields": "EXTRACT(MONTH from REPORTDATE)",
        "groupByFieldsForStatistics": "EXTRACT(MONTH from REPORTDATE)",
        "outStatistics": "[{'statisticType':'sum','onStatisticField': 'PEDESTRIANSINVOLVED','outStatisticFieldName': 'PEDESTRIANSINVOLVED'},{'statisticType':'sum','onStatisticField': 'CYCLISTSINVOLVED','outStatisticFieldName': 'CYCLISTSINVOLVED'}]"
    },
    "mappings":{
      "category": "EXPR_1",
      "group": true,
      "series": [
        { "field": "PEDESTRIANSINVOLVED", "label": "Pedestrians"},
        { "field": "CYCLISTSINVOLVED", "label": "Cyclists"}
      ]
  }
}
showChart("chartdiv2", config2);
</pre>
</body>
</html>
